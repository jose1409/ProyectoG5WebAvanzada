@model Autenticacion;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    //Prueba Fotografia
    string fotoBase64 = Model.Fotografia != null && Model.Fotografia.Length > 0
        ? "data:image/png;base64," + Convert.ToBase64String(Model.Fotografia)
        : "#";
    string estilo = Model.Fotografia != null && Model.Fotografia.Length > 0
        ? ""
        : "display: none;";
}

<div class="container mt-5">
    <h2 class="mb-4 text-primary">Mi Perfil</h2>

    <input type="hidden" id="IdUsuario" value="@ViewBag.IdUsuario" />

    <div class="card shadow p-4">
        <form class="form-horizontal" asp-controller="Usuario" asp-action="Index" enctype="multipart/form-data">

            <div class="card-body">
                <div class="form-group row">
                    <label asp-for="FotografiaFile" class="col-sm-3 text-right control-label col-form-label">Fotografía</label>
                    <div class="col-sm-6">
                        <input asp-for="FotografiaFile" type="file" class="form-control form-control-lg"
                               accept="image/*" onchange="previewImage(this)" />
                    </div>
                </div>

                <div class="form-group row mt-2">
                    <div class="col-sm-6 offset-sm-3">
                        <img id="previewFoto"
                             src="@fotoBase64"
                             alt="Previsualización"
                             style="width: 250px; height: 250px; object-fit: cover; @estilo" />

                    </div>
                </div>

                <div class="form-group row">
                    <label for="Cedula" class="col-sm-3 text-right control-label col-form-label">Cédula</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" asp-for="Cedula" readonly />
                    </div>
                </div>

                <div class="form-group row">
                    <label for="CorreoElectronico" class="col-sm-3 text-right control-label col-form-label">Correo electrónico</label>
                    <div class="col-sm-6">
                        <input type="email" class="form-control" asp-for="CorreoElectronico" />
                    </div>
                </div>

                <div class="form-group row">
                    <label for="Nombre" class="col-sm-3 text-right control-label col-form-label">Nombre</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" asp-for="Nombre" />
                    </div>
                </div>

                <div class="form-group row">
                    <label for="Apellidos" class="col-sm-3 text-right control-label col-form-label">Apellidos</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" asp-for="Apellidos" />
                    </div>
                </div>

                <div class="form-group row">
                    <label for="Telefono" class="col-sm-3 text-right control-label col-form-label">Teléfono</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" asp-for="Telefono" />
                    </div>
                </div>
            </div>

            <hr>

            <div class="card-body">
                <div class="form-group m-b-0 text-right">
                    <button type="submit" class="btn btn-success">Guardar Cambios</button>
                </div>
            </div>

        </form>

    </div>
</div>


<script src="~/js/Usuario/PreviewPhoto.js"></script>
